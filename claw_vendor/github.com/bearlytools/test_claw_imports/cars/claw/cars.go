// DO NOT EDIT
// This package is autogenerated and should not be modified except by the clawc compiler.

// Package cars
package cars

import (
    "context"
    "io"
    "bytes"
    "fmt"

    "github.com/bearlytools/claw/clawc/languages/go/mapping"
    "github.com/bearlytools/claw/clawc/languages/go/reflect"
    "github.com/bearlytools/claw/clawc/languages/go/reflect/runtime"
    "github.com/bearlytools/claw/clawc/languages/go/segment"
    "github.com/bearlytools/claw/clawc/languages/go/field"
    
    "github.com/bearlytools/claw/testing/imports/vehicles/claw/manufacturers"
)

// Ensure imports are used.
var (
    _ context.Context
    _ = io.EOF
    _ = bytes.MinRead
    _ = fmt.Errorf
    _ mapping.Map
    _ reflect.StructDescr
    _ = runtime.RegisterPackage
    _ segment.Struct
    _ = field.FTBool
)

// SyntaxVersion is the major version of the Claw language that is being rendered.
const SyntaxVersion = 0

var _package = "cars"
var _packagePath = "github.com/bearlytools/test_claw_imports/cars/claw"


type Model uint8

// String implements fmt.Stringer.
func (x Model) String() string {
    return ModelByValue[uint8(x)]
}

// XXXEnumGroup will return the EnumGroup descriptor for this group of enumerators.
// This should only be used by the reflect package and is has no compatibility promises
// like all XXX fields.
func (x Model) XXXEnumGroup() reflect.EnumGroup {
    return XXXEnumGroups.Get(0)
}

// XXXEnumGroup will return the EnumValueDescr descriptor for an enumerated value.
// This should only be used by the reflect package and is has no compatibility promises
// like all XXX fields.
func (x Model) XXXEnumValueDescr() reflect.EnumValueDescr {
    return XXXEnumGroups.Get(0).ByValue(uint16(x))
}
// This is a set of all constants representing enumerated values for enum Model.
const (
    ModelUnknown Model = 0
    GT Model = 1
    Venza Model = 2
    ModelS Model = 3
)

// ModelByName converts a string representing the enumerator into a Model.
var ModelByName = map[string]Model{
    "GT": 1,
    "ModelS": 3,
    "ModelUnknown": 0,
    "Venza": 2,
}

// ModelByValue converts a uint8 representing a Model into its string name.
var ModelByValue = map[uint8]string{
    0: "ModelUnknown",
    1: "GT",
    2: "Venza",
    3: "ModelS",
}


type Car struct {
   s *segment.Struct
}

// NewCar creates a new pooled instance of Car.
// Call Release() when done to return it to the pool for reuse.
func NewCar(ctx context.Context) Car {
    s := segment.NewPooled(ctx, XXXMappingCar)
    return Car{
        s: s,
    }
}

// Release returns the struct to the pool for reuse.
// After calling Release, the struct should not be used.
func (x Car) Release(ctx context.Context) {
    segment.Release(ctx, x.s)
}

// XXXNewCarFrom creates a new Car from our internal Struct representation.
// As with all things marked XXX*, this should not be used and has not compatibility
// guarantees.
//
// Deprecated: This is not actually deprecated, but it should not be used directly nor
// show up in any documentation.
func XXXNewCarFrom(s *segment.Struct) Car {
    return Car{s: s}
}

// Marshal marshal's the Struct to []byte.
func (x Car) Marshal() ([]byte, error) {
    return x.s.MarshalBytes()
}

// MarshalWriter marshals to an io.Writer.
func (x Car) MarshalWriter(w io.Writer) (n int, err error) {
    return x.s.Marshal(w)
}

// Unmarshal unmarshals b into the Struct.
func (x Car) Unmarshal(b []byte) error {
    return x.s.Unmarshal(b)
}

// UnmarshalReader unmarshals a Struct from an io.Reader.
func (x Car) UnmarshalReader (r io.Reader) (int, error) {
    return x.s.UnmarshalReader(r)
}

func (x Car) Manufacturer() manufacturers.Manufacturer {
    return manufacturers.Manufacturer(segment.GetUint8(x.s, 0))
}

func (x Car) SetManufacturer(value manufacturers.Manufacturer) Car {
    segment.SetUint8(x.s, 0, uint8(value))
    return x
}

func (x Car) Model() Model {
    return Model(segment.GetUint8(x.s, 1))
}

func (x Car) SetModel(value Model) Car {
    segment.SetUint8(x.s, 1, uint8(value))
    return x
}


func (x Car) Year() uint16 {
    return segment.GetUint16(x.s, 2)
}

func (x Car) SetYear(value uint16) Car {
    segment.SetUint16(x.s, 2, value)
    return x
}



// ClawStruct returns a reflection type representing the Struct.
func (x Car) ClawStruct() reflect.Struct{
    return reflect.XXXNewStruct(x.s, x.XXXDescr())
}

// XXXGetStruct returns the internal Struct representation. Like all XXX* types/methods,
// this should not be used and has no compatibility guarantees.
//
// Deprecated: Not deprectated, but should not be used and should not show up in documentation.
func (x Car) XXXGetStruct() *segment.Struct {
    return x.s
}

// SetRecording enables or disables mutation recording for patch generation.
// When enabled, all Set* operations and list mutations are recorded.
func (x Car) SetRecording(enabled bool) Car {
    x.s.SetRecording(enabled)
    return x
}

// Recording returns whether mutation recording is enabled.
func (x Car) Recording() bool {
    return x.s.Recording()
}

// DrainRecordedOps returns all recorded operations since recording was enabled
// (or since the last DrainRecordedOps call) and clears the internal list.
// Use patch.NewPatchFromOps() to convert these to a Patch for application.
func (x Car) DrainRecordedOps() []segment.RecordedOp {
    return x.s.DrainRecordedOps()
}

// RecordedOpsLen returns the number of recorded operations.
func (x Car) RecordedOpsLen() int {
    return x.s.RecordedOpsLen()
}

 

// XXXDescr returns the Struct's descriptor. This should only be used
// by the reflect package and is has no compatibility promises like all XXX fields.
//
// Deprecated: No deprecated, but shouldn't be used directly or show up in documentation.
func (x Car) XXXDescr() reflect.StructDescr {
    return XXXPackageDescr.Structs().Get(0)
} 

// Everything below this line is internal details.
// Deprecated: Not deprecated, but shouldn't be used directly or show up in documentation.
var XXXMappingCar = &mapping.Map{
    Name: "Car",
    Pkg: "cars",
    Path: "github.com/bearlytools/test_claw_imports/cars/claw",
    Fields: []*mapping.FieldDescr{
        {
            Name: "Manufacturer",
            Type: field.FTUint8,
            Package: "manufacturers",
            FullPath: "github.com/bearlytools/claw/testing/imports/vehicles/claw/manufacturers",
            FieldNum: 0,
            IsEnum: true,
            EnumGroup: "manufacturers.Manufacturer",
        },
        {
            Name: "Model",
            Type: field.FTUint8,
            Package: "cars",
            FullPath: "github.com/bearlytools/test_claw_imports/cars/claw",
            FieldNum: 1,
            IsEnum: true,
            EnumGroup: "Model",
        },
        {
            Name: "Year",
            Type: field.FTUint16,
            Package: "cars",
            FullPath: "github.com/bearlytools/test_claw_imports/cars/claw",
            FieldNum: 2,
            IsEnum: false,
        },
    },
}


// init initializes all mapping function pointer tables for O(1) dispatch.
func init() {
    XXXMappingCar.Init()
}




var XXXEnumGroupModel = reflect.XXXEnumGroupImpl{
    GroupName: "Model",
    GroupLen: 4,
    EnumSize: 8,
    Descrs: []reflect.EnumValueDescr{
        reflect.XXXEnumValueDescrImpl{
            EnumName: "ModelUnknown",
            EnumNumber: 0,
            EnumSize: 8,
        },
        reflect.XXXEnumValueDescrImpl{
            EnumName: "GT",
            EnumNumber: 1,
            EnumSize: 8,
        },
        reflect.XXXEnumValueDescrImpl{
            EnumName: "Venza",
            EnumNumber: 2,
            EnumSize: 8,
        },
        reflect.XXXEnumValueDescrImpl{
            EnumName: "ModelS",
            EnumNumber: 3,
            EnumSize: 8,
        },
    },
}

// Deprecated: Not deprecated, but shouldn't be used directly or show up in documentation.
var XXXEnumGroups reflect.EnumGroups = reflect.XXXEnumGroupsImpl{
    List:   []reflect.EnumGroup{
        XXXEnumGroupModel,
    },
    Lookup: map[string]reflect.EnumGroup{
        "Model": XXXEnumGroupModel,
    },
}
 


var XXXStructDescrCar = &reflect.XXXStructDescrImpl{
    Name:      "Car",
    Pkg:       XXXMappingCar.Pkg,
    Path:      XXXMappingCar.Path,
    Mapping:   XXXMappingCar,
    FieldList: []reflect.FieldDescr {
        
        reflect.XXXFieldDescrImpl{
            FD: XXXMappingCar.Fields[0],
            EG: manufacturers.XXXEnumGroupManufacturer,
        },
         
        
        reflect.XXXFieldDescrImpl{
            FD:  XXXMappingCar.Fields[1],
            EG: XXXEnumGroupModel, 
        }, 
        
        reflect.XXXFieldDescrImpl{
            FD:  XXXMappingCar.Fields[2],  
        },  
    },
}

var XXXStructDescrs = map[string]*reflect.XXXStructDescrImpl{
    "Car":  XXXStructDescrCar,
}

// Deprecated: No deprecated, but shouldn't be used directly or show up in documentation.
var XXXPackageDescr reflect.PackageDescr = &reflect.XXXPackageDescrImpl{
    Name: "cars",
    Path: "github.com/bearlytools/test_claw_imports/cars/claw",
    ImportDescrs: []reflect.PackageDescr {
        manufacturers.XXXPackageDescr,
    },
    EnumGroupsDescrs: XXXEnumGroups,
    StructsDescrs: reflect.XXXStructDescrsImpl{
        Descrs: []reflect.StructDescr{
            XXXStructDescrCar,
        },
    },
}

// PackageDescr returns a PackageDescr for this package.
func PackageDescr() reflect.PackageDescr {
    return XXXPackageDescr
}

// Registers our package description with the runtime.
func init() {
    runtime.RegisterPackage(XXXPackageDescr)
}
